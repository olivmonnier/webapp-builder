{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/app.js","src/js/config.js","src/js/plugins/customHtml/blocks.js","src/js/plugins/customHtml/commands.js","src/js/plugins/customHtml/components.js","src/js/plugins/customHtml/index.js","src/js/plugins/index.js","src/js/plugins/mavo/components.js","src/js/plugins/mavo/index.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_config","grapesjs","init","_config2","default","container","fromElement","height","plugins","layerManager","appendTo","panels","defaults","id","el","resizable","tc","cr","bc","keyWidth","keyHeight","cl","buttons","className","command","active","attributes","title","data-tooltip","data-tooltip-pos","editor","confirm","runCommand","context","arguments","undefined","BlockManager","add","class","label","content","Commands","run","sender","data","component","getSelected","codeViewer","CodeManager","getViewer","clone","set","codeName","theme","readOnly","modalContent","document","createElement","editorTextArea","saveButton","innerHTML","style","onclick","components","getValue","Modal","close","appendChild","htmlContent","toHTML","firstChild","setContent","setTitle","open","refresh","DomComponents","defaultType","getType","_initToolbar","model","prototype","initToolbar","addType","extend","args","apply","this","toolbar","get","push","isComponent","hasAttribute","type","view","opts","options","Object","assign","_commands2","_components2","_blocks2","keys","_mavo","forEach","key","defineProperty","enumerable","_customHtml","defaultModel","defaultView","traits","concat","name","_components"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gBCAAN,EAAA,aACA,MAAAW,EAAAX,EAAA,gDAEeY,SAASC,KAATC,EAAAC,mICHA,CACbC,UAAW,OACXC,aAAa,EACbC,OAAQ,OACRC,QAAS,CAAC,aAAc,oBACxBC,aAAc,CACZC,SAAU,qBAEZC,OAAQ,CACNC,SAAU,CACR,CACEC,GAAI,YACJC,GAAI,eACJC,UAAW,CACTC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,SAAU,aACVC,UAAW,OAGf,CACEP,GAAI,aACJC,GAAI,gBACJC,UAAW,CACTC,GAAI,EACJC,GAAI,EACJI,GAAI,EACJH,GAAI,EACJC,SAAU,aACVC,UAAW,OAGf,CACEP,GAAI,QACJC,GAAI,gBACJQ,QAAS,CACP,CACET,GAAI,qBACJU,UAAW,oBACXC,QAAS,UACTC,QAAQ,EACRC,WAAY,CAAEC,MAAO,uBAEvB,CACEd,GAAI,sBACJU,UAAW,YACXC,QAAS,UACTE,WAAY,CAAEC,MAAO,aAEvB,CACEd,GAAI,sBACJU,UAAW,iBACXC,QAAS,cACTE,WAAY,CAAEC,MAAO,kBAI3B,CACEd,GAAI,kBACJC,GAAI,oBAEN,CACED,GAAI,YACJC,GAAI,sBAEN,CACED,GAAI,UACJC,GAAI,qBACJQ,QAAS,CACP,CACET,GAAI,OACJU,UAAW,aACXC,QAAS,YACTE,WAAY,CACVE,eAAgB,OAChBC,mBAAoB,WAGxB,CACEhB,GAAI,OACJU,UAAW,eACXC,QAAS,YACTE,WAAY,CACVE,eAAgB,OAChBC,mBAAoB,WAGxB,CACEhB,GAAI,QACJU,UAAW,cACXC,QAAS,SAACM,GAAD,OAAYC,QAAQ,sCAAwCD,EAAOE,WAAW,sBACvFN,WAAY,CACVE,eAAgB,QAChBC,mBAAoB,WAGxB,CACEJ,QAAQ,EACRZ,GAAI,gBACJU,UAAW,iBACXC,QAAS,gBACTS,QAAS,gBACTP,WAAY,CACVE,eAAgB,kBAChBC,mBAAoB,WAGxB,CACEhB,GAAI,UACJU,UAAW,YACXC,QAAS,UACTS,QAAS,UACTP,WAAY,CACVE,eAAgB,UAChBC,mBAAoB,WAGxB,CACEhB,GAAI,aACJU,UAAW,mBACXC,QAAS,aACTS,QAAS,aACTP,WAAY,CACVE,eAAgB,aAChBC,mBAAoB,WAGxB,CACEhB,GAAI,kBACJU,UAAW,aACXC,QAAS,kBACTE,WAAY,CACVE,eAAgB,YAChBC,mBAAoB,gHCtInB,SAAUC,GAAqB,EAAAI,UAAArC,aAAAsC,IAAAD,UAAA,IAAAA,UAAA,GACnBJ,EAAjBM,aAEKC,IAAI,YAAa,CAC5BX,WAAY,CAAEY,MAAO,cACrBC,MAAO,YACPC,QAAS,oJCNE,SAAUV,GAAqB,EAAAI,UAAArC,aAAAsC,IAAAD,UAAA,IAAAA,UAAA,GACvBJ,EAAbW,SAECJ,IAAI,wBAAyB,CACpCK,IADoC,SAChCZ,EAAQa,EAAQC,GAClB,IAAMC,EAAYf,EAAOgB,cAEnBC,EAAajB,EAAOkB,YAAYC,UAAU,cAAcC,QAC9DH,EAAWI,IAAI,CACbC,SAAU,YACVC,MAAO,YACPC,UAAU,IAGZ,IAAMC,EAAeC,SAASC,cAAc,OAEtCC,EAAiBF,SAASC,cAAc,YAExCE,EAAaH,SAASC,cAAc,UAC1CE,EAAWC,UAAY,OACvBD,EAAWpC,UAAY,eACvBoC,EAAWE,MAAQ,kBACnBF,EAAWG,QAAU,WACnBjB,EAAUM,IAAI,UAAW,IACzBN,EAAUkB,WAAWhB,EAAWjB,OAAOkC,YACvClC,EAAOmC,MAAMC,SAGfX,EAAaY,YAAYT,GACzBH,EAAaY,YAAYR,GAEzBZ,EAAW7C,KAAKwD,GAEhB,IAAIU,EAAcZ,SAASC,cAAc,OACzCW,EAAYR,UAAYf,EAAUwB,SAClCD,EAAcA,EAAYE,WAAWV,UACrCb,EAAWwB,WAAWH,GAEtBtC,EAAOmC,MACJO,SAAS,aACTD,WAAWhB,GACXkB,OAEH1B,EAAWjB,OAAO4C,8GC3CT,SAAU5C,GAAqB,EAAAI,UAAArC,aAAAsC,IAAAD,UAAA,IAAAA,UAAA,GAAA,IACpCyC,EAAkB7C,EAAlB6C,cACFC,EAAc9C,EAAO6C,cAAcE,QAAQ,WAC3CC,EAAcF,EAAYG,MAAMC,UAAUC,YAEhDN,EAAcO,QAAQ,YAAa,CACjCH,MAAOH,EAAYG,MAAMI,OAAO,CAC9BF,YAD8B,SAClBG,GACVN,EAAYO,MAAMC,KAAMF,GAExB,IAAMG,EAAUD,KAAKE,IAAI,WACzBD,EAAQE,KAAK,CACX/D,WAAY,CAAEY,MAAS,cACvBd,QAAS,0BAEX8D,KAAKnC,IAAI,UAAWoC,KAErB,CACDG,YADC,SACW5E,GACV,GAA8B,mBAAnBA,EAAG6E,cAA8B7E,EAAG6E,aAAa,kBAC1D,MAAO,CAAEC,KAAM,gBAIrBC,KAAMjB,EAAYiB,8FCxBtB,QAAAxG,EAAA,mBACAA,EAAA,qBACAA,EAAA,0EAEeY,SAASO,QAAQ6B,IAAI,mBAAoB,SAACP,GAAsB,IAAdgE,EAAc,EAAA5D,UAAArC,aAAAsC,IAAAD,UAAA,GAAAA,UAAA,GAAP,GAIhE6D,EAAUC,OAAOC,OAAO,GAHV,GAG2BH,IAE/C,EAAAI,EAAA9F,SAAa0B,EAAQiE,IACrB,EAAAI,EAAA/F,SAAe0B,EAAQiE,IACvB,EAAAK,EAAAhG,SAAW0B,EAAQiE,yJCZrBC,OAAAK,KAAAC,GAAAC,QAAA,SAAAC,GAAA,YAAAA,GAAA,eAAAA,GAAAR,OAAAS,eAAA9G,EAAA6G,EAAA,CAAAE,YAAA,EAAAlB,IAAA,WAAA,OAAAc,EAAAE,gCACAR,OAAAK,KAAAM,GAAAJ,QAAA,SAAAC,GAAA,YAAAA,GAAA,eAAAA,GAAAR,OAAAS,eAAA9G,EAAA6G,EAAA,CAAAE,YAAA,EAAAlB,IAAA,WAAA,OAAAmB,EAAAH,mICDe,SAAU1E,GAAqB,EAAAI,UAAArC,aAAAsC,IAAAD,UAAA,IAAAA,UAAA,GAAA,IACpCyC,EAAkB7C,EAAlB6C,cACFiC,EAAejC,EAAcE,QAAQ,WAAWE,MAChD8B,EAAclC,EAAcE,QAAQ,WAAWgB,KAErDlB,EAAcO,QAAQ,UAAW,CAC/BH,MAAO6B,EAAazB,OAAO,CACzBvE,SAAUoF,OAAOC,OAAOW,EAAa5B,UAAUpE,SAAU,CACvDkG,OAAQF,EAAa5B,UAAUpE,SAASkG,OAAOC,OAAO,CACpD,CACEnB,KAAM,QACNrD,MAAO,WACPyE,KAAM,YAER,CACEpB,KAAM,WACNrD,MAAO,aACPyE,KAAM,eAER,CACEpB,KAAM,QACNrD,MAAO,aACPyE,KAAM,oBAKdnB,KAAMgB,2FC3BV,MAAAI,EAAA5H,EAAA,8DAEeY,SAASO,QAAQ6B,IAAI,aAAc,SAACP,GAAsB,IAAdgE,EAAc,EAAA5D,UAAArC,aAAAsC,IAAAD,UAAA,GAAAA,UAAA,GAAP,GAI1D6D,EAAUC,OAAOC,OAAO,GAHV,GAG2BH,IAE/C,EAAAK,EAAA/F,SAAe0B,EAAQiE","file":"app.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import './plugins';\r\nimport config from './config';\r\n\r\nconst editor = grapesjs.init(config);","export default {\r\n  container: '#gjs',\r\n  fromElement: true,\r\n  height: '100%',\r\n  plugins: ['mavoPlugin', 'customHtmlPlugin'],\r\n  layerManager: {\r\n    appendTo: '#layers-container'\r\n  },\r\n  panels: {\r\n    defaults: [\r\n      {\r\n        id: 'panelLeft',\r\n        el: '.column.left',\r\n        resizable: {\r\n          tc: 0,\r\n          cr: 1,\r\n          bc: 0,\r\n          keyWidth: 'flex-basis',\r\n          keyHeight: null\r\n        }\r\n      },\r\n      {\r\n        id: 'panelRight',\r\n        el: '.column.right',\r\n        resizable: {\r\n          tc: 0,\r\n          cr: 0,\r\n          cl: 1,\r\n          bc: 0,\r\n          keyWidth: 'flex-basis',\r\n          keyHeight: null\r\n        }\r\n      },\r\n      {\r\n        id: 'views',\r\n        el: '#buttons-view',\r\n        buttons: [\r\n          {\r\n            id: 'open-style-manager',\r\n            className: 'fa fa-paint-brush',\r\n            command: 'open-sm',\r\n            active: true,\r\n            attributes: { title: 'Open Style Manager' }\r\n          },\r\n          {\r\n            id: 'open-traits-manager',\r\n            className: 'fa fa-cog',\r\n            command: 'open-tm',\r\n            attributes: { title: 'Settings' }\r\n          },\r\n          {\r\n            id: 'open-blocks-manager',\r\n            className: 'fa fa-th-large',\r\n            command: 'open-blocks',\r\n            attributes: { title: 'Open Blocks' }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'views-container',\r\n        el: '#views-container'\r\n      },\r\n      {\r\n        id: 'devices-c',\r\n        el: '#devices-container'\r\n      },\r\n      {\r\n        id: 'options',\r\n        el: '#options-container',\r\n        buttons: [\r\n          {\r\n            id: 'undo',\r\n            className: 'fa fa-undo',\r\n            command: 'core:undo',\r\n            attributes: {\r\n              'data-tooltip': 'Undo',\r\n              'data-tooltip-pos': 'bottom'\r\n            }\r\n          },\r\n          {\r\n            id: 'redo',\r\n            className: 'fa fa-repeat',\r\n            command: 'core:redo',\r\n            attributes: {\r\n              'data-tooltip': 'Redo',\r\n              'data-tooltip-pos': 'bottom'\r\n            }\r\n          },\r\n          {\r\n            id: 'clear',\r\n            className: 'fa fa-trash',\r\n            command: (editor) => confirm('Are you sure to clean the canvas?') && editor.runCommand('core:canvas-clear'),\r\n            attributes: {\r\n              'data-tooltip': 'Clear',\r\n              'data-tooltip-pos': 'bottom'\r\n            }\r\n          },\r\n          {\r\n            active: true,\r\n            id: 'sw-visibility',\r\n            className: 'fa fa-square-o',\r\n            command: 'sw-visibility',\r\n            context: 'sw-visibility',\r\n            attributes: {\r\n              'data-tooltip': 'View components',\r\n              'data-tooltip-pos': 'bottom'\r\n            }\r\n          },\r\n          {\r\n            id: 'preview',\r\n            className: 'fa fa-eye',\r\n            command: 'preview',\r\n            context: 'preview',\r\n            attributes: {\r\n              'data-tooltip': 'Preview',\r\n              'data-tooltip-pos': 'bottom'\r\n            }\r\n          },\r\n          {\r\n            id: 'fullscreen',\r\n            className: 'fa fa-arrows-alt',\r\n            command: 'fullscreen',\r\n            context: 'fullscreen',\r\n            attributes: {\r\n              'data-tooltip': 'Fullscreen',\r\n              'data-tooltip-pos': 'bottom'\r\n            }\r\n          },\r\n          {\r\n            id: 'export-template',\r\n            className: 'fa fa-code',\r\n            command: 'export-template',\r\n            attributes: {\r\n              'data-tooltip': 'View code',\r\n              'data-tooltip-pos': 'bottom'\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}","export default function (editor, config = {}) {\r\n  const { BlockManager } = editor\r\n\r\n  BlockManager.add('html-code', {\r\n    attributes: { class: 'fa fa-code' },\r\n    label: 'HTML Code',\r\n    content: '<div data-html-code>Edit my HTML content</div>'\r\n  })\r\n}","export default function (editor, config = {}) {\r\n  const { Commands } = editor\r\n\r\n  Commands.add('open-html-code-editor', {\r\n    run(editor, sender, data) {\r\n      const component = editor.getSelected()\r\n\r\n      const codeViewer = editor.CodeManager.getViewer('CodeMirror').clone()\r\n      codeViewer.set({\r\n        codeName: 'htmlmixed',\r\n        theme: 'hopscotch',\r\n        readOnly: false\r\n      })\r\n\r\n      const modalContent = document.createElement('div')\r\n\r\n      const editorTextArea = document.createElement('textarea')\r\n\r\n      const saveButton = document.createElement('button')\r\n      saveButton.innerHTML = 'Save'\r\n      saveButton.className = 'gjs-btn-prim'\r\n      saveButton.style = 'margin-top: 8px'\r\n      saveButton.onclick = () => {\r\n        component.set('content', '')\r\n        component.components(codeViewer.editor.getValue())\r\n        editor.Modal.close()\r\n      }\r\n\r\n      modalContent.appendChild(editorTextArea)\r\n      modalContent.appendChild(saveButton)\r\n\r\n      codeViewer.init(editorTextArea)\r\n\r\n      let htmlContent = document.createElement('div')\r\n      htmlContent.innerHTML = component.toHTML()\r\n      htmlContent = htmlContent.firstChild.innerHTML\r\n      codeViewer.setContent(htmlContent)\r\n\r\n      editor.Modal\r\n        .setTitle('Edit HTML')\r\n        .setContent(modalContent)\r\n        .open()\r\n\r\n      codeViewer.editor.refresh()\r\n    }\r\n  })\r\n}","export default function (editor, config = {}) {\r\n  const { DomComponents } = editor\r\n  const defaultType = editor.DomComponents.getType('default')\r\n  const initToolbar = defaultType.model.prototype.initToolbar\r\n\r\n  DomComponents.addType('html-code', {\r\n    model: defaultType.model.extend({\r\n      initToolbar(args) {\r\n        initToolbar.apply(this, args)\r\n\r\n        const toolbar = this.get('toolbar')\r\n        toolbar.push({\r\n          attributes: { 'class': 'fa fa-code' },\r\n          command: 'open-html-code-editor'\r\n        })\r\n        this.set('toolbar', toolbar)\r\n      }\r\n    }, {\r\n      isComponent(el) {\r\n        if (typeof el.hasAttribute == 'function' && el.hasAttribute('data-html-code')) {\r\n          return { type: 'html-code' }\r\n        }\r\n      }\r\n    }),\r\n    view: defaultType.view\r\n  })\r\n}","import loadCommands from './commands'\r\nimport loadComponents from './components'\r\nimport loadBlocks from './blocks'\r\n\r\nexport default grapesjs.plugins.add('customHtmlPlugin', (editor, opts = {}) => {\r\n  const defaultOpts = {\r\n    // Defaults\r\n  }\r\n  const options = Object.assign({}, defaultOpts, opts)\r\n\r\n  loadCommands(editor, options)\r\n  loadComponents(editor, options)\r\n  loadBlocks(editor, options)\r\n})","export * from './mavo';\r\nexport * from './customHtml';","export default function (editor, config = {}) {\r\n  const { DomComponents } = editor;\r\n  const defaultModel = DomComponents.getType('default').model;\r\n  const defaultView = DomComponents.getType('default').view;\r\n\r\n  DomComponents.addType('default', {\r\n    model: defaultModel.extend({\r\n      defaults: Object.assign(defaultModel.prototype.defaults, {\r\n        traits: defaultModel.prototype.defaults.traits.concat([\r\n          {\r\n            type: 'input',\r\n            label: 'Property',\r\n            name: 'property'\r\n          },\r\n          {\r\n            type: 'checkbox',\r\n            label: 'Repeatable',\r\n            name: 'mv-multiple'\r\n          },\r\n          {\r\n            type: 'input',\r\n            label: 'Properties',\r\n            name: 'mv-accepts'\r\n          }\r\n        ])\r\n      })\r\n    }),\r\n    view: defaultView\r\n  })\r\n}","import loadComponents from './components';\r\n\r\nexport default grapesjs.plugins.add('mavoPlugin', (editor, opts = {}) => {\r\n  const defaultOpts = {\r\n    // Defaults\r\n  }\r\n  const options = Object.assign({}, defaultOpts, opts);\r\n\r\n  loadComponents(editor, options);\r\n});"]}